<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="EstimateDAO">
	<!-- 190703 재홍 CRUD 쿼리 입력 -->
	<!-- 의뢰 등록 -->
	<insert id="insertEstimate" parameterType="EstimateVO">
		INSERT INTO ESTIMATE (	  ESTIMATE_ID
								, ESTIMATE_PRICE
								, REQUEST_DAY
								, TRADE_PROGRESS
								, REMARKS
								, APPLICANTS
								, LEVEL_OF_DIFFICULTY
								, CANDIDATE
								, APPLY_PURPOSE
								, EXAM_DATE
								, CATEGORY_ID
								, EXAM_CLASSFICATION
								, COMPANY_ID
								, EXAM_COUNT
								, EXAM_INTERVAL )
		VALUES ( #{estimateId}
				,#{estimatePrice}
				,#{requestDay}
				,#{tradeProgress}
				,#{remarks}
				,#{applicants}
				,#{levelOfDifficulty}
				,#{candidate}
				,#{applyPurpose}
				,#{examDate}
				,#{category_id}
				,#{examClassfication}
				,#{companyId}
				,#{examCount}
				,#{examInterval})
	</insert>
	
	<!-- 의뢰 수정 -->
	<update id="updateEstimate" parameterType="EstimateVO">
		UPDATE ESTIMATE SET ESTIMATE_PRICE  	= #{estimatePrice}
						,	REQUEST_DAY	    	= #{requestDay}
						,	TRADE_PROGRESS  	= #{tradeProgress}
						,	REMARKS 	    	= #{remarks}
						,	APPLICANTS			= #{applicants}
						,	LEVEL_OF_DIFFICULTY	= #{levelOfDifficulty}
						,	CANDIDATE			= #{candidate}
						,	APPLY_PURPOSE		= #{applyPurpose}
						,	EXAM_DATE			= #{examDate}
						,	CATEGORY_ID			= #{examClassfication}
						,	EXAM_CLASSFICATION	= #{examClassfication}
						,	COMPANY_ID			= #{companyId}
						,	EXAM_COUNT			= #{examCount}
						,	EXAM_INTERVAL		= #{examInterval}
		WHERE ESTIMATE_ID = #{estimateId}
	</update>
	
	<!-- 의뢰 ID로 삭제 -->
	<delete id="deleteEstimate" parameterType="EstimateVO">
		DELETE FROM ESTIMATE
		WHERE ESTIMATE_ID = #{estimateId}
	</delete>
	
	<!-- 의뢰 ID로 조회 -->
	<select id="getEstimate" resultType="EstimateVO">
		SELECT 	  ESTIMATE_ID
				, ESTIMATE_PRICE
				, REQUEST_DAY
				, TRADE_PROGRESS
				, REMARKS
				, APPLICANTS
				, LEVEL_OF_DIFFICULTY
				, CANDIDATE
				, APPLY_PURPOSE
				, EXAM_DATE
				, CATEGORY_ID
				, EXAM_CLASSFICATION
				, COMPANY_ID
				, EXAM_COUNT
				, EXAM_INTERVAL
		FROM ESTIMATE
		WHERE ESTIMATE_ID = #{estimateId}
	</select>
</mapper>